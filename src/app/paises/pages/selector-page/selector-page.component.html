<h1 class="mt-5">Selectores Anidados</h1>

<hr>

<form (ngSubmit)="guardar()"
      [formGroup]="miFormulario"
      >
  <!--  Regiones  -->
  <div class="row mb-2">
    <div class="col">
      <label class="form-label">Continente:</label>
        <select 
          class="form-control"
          formControlName="region"
        >
          <option value=""> -- Seleccione continente -- </option>
          <option *ngFor="let region of regiones"
                  [value]="region | lowercase">
                  {{region}}
          </option>
        </select>
    </div>
  </div>

  <!--  Paises  -->
  <div class="row mb-2" *ngIf="paises.length !== 0">
    <div class="col">
      <label class="form-label">Paises:</label>
        <select 
          class="form-control"
          formControlName="pais"
        >
          <option value=""> -- Seleccione país -- </option>
          <option *ngFor="let pais of paises"
                  [value]="pais.alpha3Code">
                  {{pais.name}}
          </option>
        </select>
    </div>
  </div>

  <!--  Fronteras  -->
  <div class="row mb-2" *ngIf="fronteras.length !== 0">
    <div class="col">
      <label class="form-label">Fronteras:</label>
        <select 
          class="form-control"
          formControlName="frontera"
        >
          <option value=""> -- Seleccione el país fronterizo -- </option>
          <option *ngFor="let frontera of fronteras"
                  [value]="frontera.alpha3Code">
                  {{frontera.name}}
          </option>
        </select>
    </div>
  </div>

  <!-- Mensaje carga -->
  <div class="row" *ngIf="cargando ">
    <div class="col">
      <div class="alert alert-primary">
        Cargando...
      </div>
    </div>
  </div>

  <!-- Botón necesario para comprobar si está bien nuestro formualario -->
  <div class="row">
    <div class="col">
      <button
            type="submit"
            class="btn  btn-primary float-end mb-2 "
            >
        Guardar
      </button>
    </div>
  </div>

</form>





<h3>Formualario</h3>
<pre>Valid : {{ miFormulario.valid }}</pre>
<pre>{{ miFormulario.value | json  }}</pre>
<pre>{{ cargando }}</pre>